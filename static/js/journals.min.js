class JournalsLoader{constructor(){this.loadingStates={impact:!1,representation:!1}}async loadVenuesByImpact(){this.loadingStates.impact=!0;const e=document.querySelector(".venues-impact-container");if(e)try{e.innerHTML='<p class="field-value">Carregando periódicos por impacto...</p>',e.innerHTML='\n                <p class="field-value">\n                    Dados de impacto não disponíveis no momento. \n                    <a href="/venues/complete" class="action-link">Ver listagem completa de periódicos</a>\n                </p>\n            '}catch(n){console.error("Error loading venues by impact:",n),e.innerHTML='<p class="field-value error-text">Erro ao carregar dados de impacto</p>'}finally{this.loadingStates.impact=!1}else console.error("Venues impact container not found")}async loadVenuesByRepresentation(){this.loadingStates.representation=!0;const e=document.querySelector(".venues-representation-container");if(e)try{e.innerHTML='<p class="field-value">Carregando periódicos por representação...</p>';const n=new AbortController,a=setTimeout(()=>n.abort(),1e4),o=await fetch("/venues/complete",{signal:n.signal,headers:{Accept:"text/html"}});if(clearTimeout(a),!o.ok)throw new Error(`HTTP ${o.status}: ${o.statusText}`);e.innerHTML='\n                <div class="venues-preview">\n                    <table class="data-table journals-representation-table">\n                        <thead>\n                            <tr>\n                                <th scope="col">PRINCIPAIS PERIÓDICOS</th>\n                                <th scope="col">AÇÃO</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <td class="field-value">\n                                    American Anthropologist, Current Anthropology, American Ethnologist, \n                                    Journal of the Royal Anthropological Institute, American Journal of Sociology, \n                                    Social Forces, American Sociological Review, e outros...\n                                </td>\n                                <td class="field-value">\n                                    <a href="/venues/complete" class="action-link">Ver listagem completa</a>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                    <div class="action-links">\n                        <p class="field-value">\n                            <strong>4945+ periódicos disponíveis</strong> - \n                            <a href="/venues/complete" class="action-link">Ver todos os periódicos organizados</a> | \n                            <a href="/search/advanced" class="action-link">Busca avançada</a>\n                        </p>\n                    </div>\n                </div>\n            '}catch(n){console.error("Error loading venues by representation:",n),"AbortError"===n.name||n.message.includes("timeout")?e.innerHTML='\n                    <p class="field-value error-text">\n                        Timeout ao carregar periódicos. A base de dados é muito grande.\n                        <br><a href="/venues/complete" class="action-link">Ver listagem completa de periódicos</a>\n                        <br><a href="/search/advanced" class="action-link">Ou use a busca avançada para filtros específicos</a>\n                    </p>\n                ':e.innerHTML='\n                    <p class="field-value error-text">\n                        Erro ao carregar periódicos. \n                        <br><a href="/venues/complete" class="action-link">Ver listagem completa</a>\n                    </p>\n                '}finally{this.loadingStates.representation=!1}else console.error("Venues representation container not found")}async init(){try{await Promise.all([this.loadVenuesByImpact(),this.loadVenuesByRepresentation()])}catch(e){console.error("Error initializing journals loader:",e)}}}document.addEventListener("DOMContentLoaded",function(){(new JournalsLoader).init()});