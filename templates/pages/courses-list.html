{% extends "base.html" %}

{% block title %}Cursos - ethnos_app{% endblock %}

{% block content %}
<div class="page-header" aria-labelledby="page-title">
  <h1 class="page-title" id="page-title">Cursos</h1>
  {% if stats %}
  <p class="description">{{ stats.total_courses }} cursos encontrados</p>
  {% endif %}
</div>

{% if courses %}
<section aria-labelledby="courses-section">
  <table class="data-table courses-table">
    <thead>
      <tr>
        <th scope="col">TÍTULO</th>
        <th scope="col">PROFESSOR</th>
        <th scope="col">ANO</th>
        <th scope="col">SEM</th>
        <th scope="col">OBRAS</th>
      </tr>
    </thead>
    <tbody>
      {% for course in courses %}
      <tr>
        <td class="field-value">
          <a href="{{ url_for('courses_detail', course_id=course.id) }}" class="action-link">
            {{ course.name }}
          </a>
          {% if course.code %}
          <br><span class="result-type">{{ course.code }}</span>
          {% endif %}
        </td>
        <td class="field-value">{{ course.instructors or 'N/A' }}</td>
        <td class="field-value">{{ course.year }}</td>
        <td class="field-value">{{ course.semester }}</td>
        <td class="field-value">{{ course.bibliography_count or 0 }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</section>

{% if pagination and pagination.has_next %}
<nav class="pagination-nav" aria-label="Navegação de páginas">
  {% if current_page > 1 %}
  <a href="{{ url_for('courses_list', page=current_page-1) }}" class="action-btn btn-negative">← Anterior</a>
  {% else %}
  <button class="action-btn pagination-btn disabled" disabled>← Anterior</button>
  {% endif %}
  
  <span class="pagination-info">Página {{ current_page }}</span>
  
  {% if pagination.has_next %}
  <a href="{{ url_for('courses_list', page=current_page+1) }}" class="action-btn btn-positive">Próxima →</a>
  {% else %}
  <button class="action-btn pagination-btn disabled" disabled>Próxima →</button>
  {% endif %}
</nav>
{% endif %}

{% else %}
<p class="field-value">Nenhum curso encontrado.</p>
{% endif %}

<div class="action-links">
  <a href="{{ url_for('home') }}" class="action-btn btn-negative">Voltar à Página Inicial</a>
</div>
{% endblock %}